<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full-Stack App Sabalande</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="not-authenticated">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">Full-Stack App Sabalande</div>
            <div class="nav-links">
                <a href="#/" class="nav-link">Home</a>
                <a href="#/login" class="nav-link role-logged-out">Login</a>
                <a href="#/register" class="nav-link role-logged-out">Register</a>
                <a href="#/employees" class="nav-link role-admin">Employees</a>
                <a href="#/accounts" class="nav-link role-admin">Accounts</a>
                <a href="#/departments" class="nav-link role-admin">Departments</a>
                <div class="dropdown role-logged-in">
                    <button class="dropdown-toggle" id="userDropdown">
                        <span id="navUsername">User</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="#/profile" class="dropdown-item">Profile</a>
                        <a href="#/requests" class="dropdown-item">My Requests</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" id="logoutBtn">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <!-- Home Page -->
        <section id="home-page" class="page active">
            <div class="hero-section">
                <div class="container">
                    <h1 class="hero-title">Welcome to Full-Stack App</h1>
                    <p class="hero-subtitle">A static prototype before backend integration. Simulates:</p>
                    <ul class="feature-list">
                        <li><i class="fas fa-check-circle"></i> Email registration + fake verification</li>
                        <li><i class="fas fa-check-circle"></i> Login with JWT-like token simulation</li>
                        <li><i class="fas fa-check-circle"></i> Role-based UI (Admin/User)</li>
                        <li><i class="fas fa-check-circle"></i> CRUD for Employees, Departments, Requests</li>
                    </ul>
                    <div class="info-box">
                        <i class="fas fa-info-circle"></i>
                        <span><strong>Note:</strong> All data is stored in <code>localStorage</code>. Refresh to reset.</span>
                    </div>
                    <button class="btn btn-primary btn-lg" onclick="navigateTo('#/register')" data-testid="get-started-btn">
                        Get Started <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Register Page -->
        <section id="register-page" class="page">
            <div class="container">
                <div class="form-card">
                    <h2>Register Account</h2>
                    <form id="registerForm" data-testid="register-form">
                        <div class="form-group">
                            <label for="regFirstName">First Name</label>
                            <input type="text" id="regFirstName" class="form-control" required data-testid="register-firstname-input">
                        </div>
                        <div class="form-group">
                            <label for="regLastName">Last Name</label>
                            <input type="text" id="regLastName" class="form-control" required data-testid="register-lastname-input">
                        </div>
                        <div class="form-group">
                            <label for="regEmail">Email</label>
                            <input type="email" id="regEmail" class="form-control" required data-testid="register-email-input">
                        </div>
                        <div class="form-group">
                            <label for="regPassword">Password</label>
                            <input type="password" id="regPassword" class="form-control" minlength="6" required data-testid="register-password-input">
                            <small class="form-text">Minimum 6 characters</small>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success" data-testid="register-submit-btn">Sign Up</button>
                            <button type="button" class="btn btn-secondary" onclick="navigateTo('#/')" data-testid="register-cancel-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Verify Email Page -->
        <section id="verify-page" class="page">
            <div class="container">
                <div class="form-card">
                    <h2>Verify Your Email</h2>
                    <div class="alert alert-success" data-testid="verification-sent-message">
                        <i class="fas fa-check-circle"></i>
                        A verification link has been sent to <strong id="verifyEmail"></strong>.
                    </div>
                    <p>For demo purposes, click below to simulate verification:</p>
                    <div class="form-actions">
                        <button class="btn btn-success" id="simulateVerifyBtn" data-testid="simulate-verify-btn">
                            <i class="fas fa-check"></i> Simulate Email Verification
                        </button>
                        <button class="btn btn-secondary" onclick="navigateTo('#/login')" data-testid="goto-login-btn">Go to Login</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Login Page -->
        <section id="login-page" class="page">
            <div class="container">
                <div class="form-card">
                    <h2>Login</h2>
                    <div id="loginSuccessMsg" class="alert alert-success" style="display:none;" data-testid="login-success-message">
                        <i class="fas fa-check-circle"></i>
                        Email verified! You may now log in.
                    </div>
                    <form id="loginForm" data-testid="login-form">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" class="form-control" required data-testid="login-email-input">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" class="form-control" required data-testid="login-password-input">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary" data-testid="login-submit-btn">Login</button>
                            <button type="button" class="btn btn-secondary" onclick="navigateTo('#/')" data-testid="login-cancel-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile-page" class="page">
            <div class="container">
                <div class="profile-card" data-testid="profile-card">
                    <h2>My Profile</h2>
                    <div class="profile-info">
                        <div class="profile-item">
                            <strong>Name:</strong>
                            <span id="profileName" data-testid="profile-name"></span>
                        </div>
                        <div class="profile-item">
                            <strong>Email:</strong>
                            <span id="profileEmail" data-testid="profile-email"></span>
                        </div>
                        <div class="profile-item">
                            <strong>Role:</strong>
                            <span id="profileRole" class="badge" data-testid="profile-role"></span>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="alert('Edit Profile - Not implemented in demo')" data-testid="edit-profile-btn">
                        <i class="fas fa-edit"></i> Edit Profile
                    </button>
                </div>
            </div>
        </section>

        <!-- Employees Page (Admin) -->
        <section id="employees-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h2>Employees</h2>
                    <button class="btn btn-success" id="addEmployeeBtn" data-testid="add-employee-btn">
                        <i class="fas fa-plus"></i> Add Employee
                    </button>
                </div>
                <div class="table-container" data-testid="employees-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Dept</th>
                                <th>Hire Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeesTableBody">
                            <tr>
                                <td colspan="6" class="empty-state">No employees.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Employee Form Modal -->
                <div id="employeeModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="employeeModalTitle">Add/Edit Employee</h3>
                            <button class="modal-close" data-testid="employee-modal-close">&times;</button>
                        </div>
                        <form id="employeeForm" data-testid="employee-form">
                            <div class="form-group">
                                <label for="empId">Employee ID</label>
                                <input type="text" id="empId" class="form-control" required data-testid="employee-id-input">
                            </div>
                            <div class="form-group">
                                <label for="empEmail">User Email</label>
                                <input type="email" id="empEmail" class="form-control" required data-testid="employee-email-input">
                                <small class="form-text">Must match an existing account</small>
                            </div>
                            <div class="form-group">
                                <label for="empPosition">Position</label>
                                <input type="text" id="empPosition" class="form-control" required data-testid="employee-position-input">
                            </div>
                            <div class="form-group">
                                <label for="empDept">Department</label>
                                <select id="empDept" class="form-control" required data-testid="employee-dept-select">
                                    <option value="">Select Department</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="empHireDate">Hire Date</label>
                                <input type="date" id="empHireDate" class="form-control" required data-testid="employee-hiredate-input">
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" data-testid="employee-save-btn">Save</button>
                                <button type="button" class="btn btn-secondary" onclick="closeEmployeeModal()" data-testid="employee-cancel-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Departments Page (Admin) -->
        <section id="departments-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h2>Departments</h2>
                    <button class="btn btn-success" id="addDeptBtn" data-testid="add-department-btn">
                        <i class="fas fa-plus"></i> Add Department
                    </button>
                </div>
                <div class="table-container" data-testid="departments-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="departmentsTableBody">
                        </tbody>
                    </table>
                </div>

                <!-- Department Form Modal -->
                <div id="deptModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="deptModalTitle">Add/Edit Department</h3>
                            <button class="modal-close" data-testid="dept-modal-close">&times;</button>
                        </div>
                        <form id="deptForm" data-testid="dept-form">
                            <div class="form-group">
                                <label for="deptName">Department Name</label>
                                <input type="text" id="deptName" class="form-control" required data-testid="dept-name-input">
                            </div>
                            <div class="form-group">
                                <label for="deptDesc">Description</label>
                                <textarea id="deptDesc" class="form-control" rows="3" data-testid="dept-desc-input"></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" data-testid="dept-save-btn">Save</button>
                                <button type="button" class="btn btn-secondary" onclick="closeDeptModal()" data-testid="dept-cancel-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Accounts Page (Admin) -->
        <section id="accounts-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h2>Accounts</h2>
                    <button class="btn btn-success" id="addAccountBtn" data-testid="add-account-btn">
                        <i class="fas fa-plus"></i> Add Account
                    </button>
                </div>
                <div class="table-container" data-testid="accounts-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Verified</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="accountsTableBody">
                        </tbody>
                    </table>
                </div>

                <!-- Account Form Modal -->
                <div id="accountModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="accountModalTitle">Add/Edit Account</h3>
                            <button class="modal-close" data-testid="account-modal-close">&times;</button>
                        </div>
                        <form id="accountForm" data-testid="account-form">
                            <div class="form-group">
                                <label for="accFirstName">First Name</label>
                                <input type="text" id="accFirstName" class="form-control" required data-testid="account-firstname-input">
                            </div>
                            <div class="form-group">
                                <label for="accLastName">Last Name</label>
                                <input type="text" id="accLastName" class="form-control" required data-testid="account-lastname-input">
                            </div>
                            <div class="form-group">
                                <label for="accEmail">Email</label>
                                <input type="email" id="accEmail" class="form-control" required data-testid="account-email-input">
                            </div>
                            <div class="form-group">
                                <label for="accPassword">Password</label>
                                <input type="password" id="accPassword" class="form-control" minlength="6" data-testid="account-password-input">
                                <small class="form-text">Leave blank to keep current password (when editing)</small>
                            </div>
                            <div class="form-group">
                                <label for="accRole">Role</label>
                                <select id="accRole" class="form-control" required data-testid="account-role-select">
                                    <option value="User">User</option>
                                    <option value="Admin">Admin</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="accVerified" data-testid="account-verified-checkbox">
                                    <span>Verified</span>
                                </label>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" data-testid="account-save-btn">Save</button>
                                <button type="button" class="btn btn-secondary" onclick="closeAccountModal()" data-testid="account-cancel-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Requests Page -->
        <section id="requests-page" class="page">
            <div class="container">
                <div class="page-header">
                    <h2>My Requests</h2>
                    <button class="btn btn-success" id="newRequestBtn" data-testid="new-request-btn">
                        <i class="fas fa-plus"></i> New Request
                    </button>
                </div>
                <div class="table-container" data-testid="requests-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Items</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="requestsTableBody">
                            <tr>
                                <td colspan="4" class="empty-state">You have no requests yet.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Request Form Modal -->
                <div id="requestModal" class="modal">
                    <div class="modal-content modal-large">
                        <div class="modal-header">
                            <h3>New Request</h3>
                            <button class="modal-close" data-testid="request-modal-close">&times;</button>
                        </div>
                        <form id="requestForm" data-testid="request-form">
                            <div class="form-group">
                                <label for="reqType">Type</label>
                                <select id="reqType" class="form-control" required data-testid="request-type-select">
                                    <option value="Equipment">Equipment</option>
                                    <option value="Leave">Leave</option>
                                    <option value="Resources">Resources</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Items</label>
                                <div id="requestItems" data-testid="request-items-container">
                                    <div class="request-item">
                                        <input type="text" class="form-control item-name" placeholder="Item name" required data-testid="request-item-name-0">
                                        <input type="number" class="form-control item-qty" placeholder="Qty" value="1" min="1" required data-testid="request-item-qty-0">
                                        <button type="button" class="btn btn-icon btn-success add-item-btn" data-testid="add-item-btn">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" data-testid="request-submit-btn">Submit Request</button>
                                <button type="button" class="btn btn-secondary" onclick="closeRequestModal()" data-testid="request-cancel-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>